<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>EMS接続のための設定</title>
    <link rel="stylesheet" href="css/base.css">
    <script src="js/jquery-3.6.3.min.js"></script>
    <link rel="stylesheet" href="css/input.css">
    <script src="js/jquery.cookie-1.4.1.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/messages_ja.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
</head>
<body>
<div id="userContainer">
    <h2>EMS接続のための設定</h2>
    <div class="marginGap">
            <span>
                値を入力し「確認」をクリックしてください。
            </span>
    </div>

    <div class="marginGap" style="margin-top: 50px">
            <span>
                変更中止する場合は、「中止」をクリックしてください。
            </span>
    </div>
</div>
<form action="/device/setNetwork">
<div style="width:650px;margin-left: auto;margin-right: auto;margin-top: 20px">
    <div class="marginGap">
        <label for="userId">
            IP取得方法＊
        </label>
        <div id="userId" style="display:inline-block;">
            <div  style="display:inline-block;">
            <input id="static" type="radio" name="ipSync" value="0" checked="checked">
            <label for="static" class="radioLabel">
                固定IP
            </label>
            </div>
            <div  style="display:inline-block;">
            <input id="dhcp" type="radio" name="ipSync" value="1" >
            <label for="dhcp" class="radioLabel">
                DHCP
            </label>
            </div>
        </div>

    </div>
    <div class="marginGap">
        <label for="ip">
            IPアドレス＊
        </label>
        <input id="ip" name="ip" type="text" class="marginLeft">
    </div>
    <div class="marginGap">
        <label for="port">
            ボート番号
        </label>
        <input id="port" name="port" type="text" class="marginLeft">
    </div>
    <div class="marginGap">
        <label for="gateway">
            ゲートウェイ＊
        </label>
        <input id="gateway" name="gateway"  type="text" class="marginLeft">
    </div>
    <div class="marginGap">
        <label for="subnet">
            サブネットマスク＊
        </label>
        <input id="subnet" name="subnet" type="text" class="marginLeft">
    </div>
    <div class="marginGap">
        <label for="room">
            部屋番号
        </label>
        <input id="room" name="room" type="text" class="marginLeft">
    </div>
    <div class="marginGap" style="margin-top: 50px">
            <span>
                マスクの項目は本体設定が優先の為、本体に合わせて設定してください。
            </span>
    </div>
    <div class="userSetDiv" style="margin-top: 70px;">
        <input type="submit" class="userSetBtn" style="margin-right: 250px" value="確定" >
        <input id="stop" type="button" class="userSetBtn" value="中止" >
    </div>
</div>
</form>
</body>
<script src="js/load.js"></script>
<script>
    $(function () {
        $("form").validate({
            rules: {
                ip:{
                    // required:true,
                    required:"#static:checked",
                    pattern:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/
                },
                port:{
                    required: true,
                    // required: "#static:checked",
                    // pattern:/^\d{1,5}$/
                    min:1,
                    max:65536
                },
                gateway:{
                    // required:true,
                    required: "#static:checked",
                    pattern:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/
                },
                subnet:{
                    // required:true,
                    required: "#static:checked",
                    pattern:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/
                },
                room:{
                    required: true,
                    // pattern:/^\d{1,5}$/
                    min:1,
                    max:99999
                }
            },
            messages: {
                ip:{
                    pattern: "正しく入力してください。"
                },
                port:{
                    pattern: "正しく入力してください。"
                },
                gateway:{
                    pattern: "正しく入力してください。"
                },
                subnet:{
                    pattern: "正しく入力してください。"
                },
                room:{
                    pattern: "正しく入力してください。"
                }
            },
            submitHandler: function (){
                ajaxSubmit();
                // alert("OK");
            }
        });
    })
</script>
</html>